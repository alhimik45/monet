<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>monet.canvas documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Monet 0.1.12 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li class="current"><a href="monet.canvas.html"><span>monet.canvas</span></a></li><li><a href="monet.core.html"><span>monet.core</span></a></li><li><a href="monet.geometry.html"><span>monet.geometry</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="monet.canvas.html#var-add-entity"><span>add-entity</span></a></li><li><a href="monet.canvas.html#var-alpha"><span>alpha</span></a></li><li><a href="monet.canvas.html#var-attr"><span>attr</span></a></li><li><a href="monet.canvas.html#var-begin-path"><span>begin-path</span></a></li><li><a href="monet.canvas.html#var-bezier-curve-to"><span>bezier-curve-to</span></a></li><li><a href="monet.canvas.html#var-circle"><span>circle</span></a></li><li><a href="monet.canvas.html#var-clear%21"><span>clear!</span></a></li><li><a href="monet.canvas.html#var-clear-rect"><span>clear-rect</span></a></li><li><a href="monet.canvas.html#var-close-path"><span>close-path</span></a></li><li><a href="monet.canvas.html#var-composition-operation"><span>composition-operation</span></a></li><li><a href="monet.canvas.html#var-draw-image"><span>draw-image</span></a></li><li><a href="monet.canvas.html#var-draw-loop"><span>draw-loop</span></a></li><li><a href="monet.canvas.html#var-entity"><span>entity</span></a></li><li><a href="monet.canvas.html#var-fill"><span>fill</span></a></li><li><a href="monet.canvas.html#var-fill-rect"><span>fill-rect</span></a></li><li><a href="monet.canvas.html#var-fill-style"><span>fill-style</span></a></li><li><a href="monet.canvas.html#var-font-style"><span>font-style</span></a></li><li><a href="monet.canvas.html#var-get-context"><span>get-context</span></a></li><li><a href="monet.canvas.html#var-get-entity"><span>get-entity</span></a></li><li><a href="monet.canvas.html#var-get-pixel"><span>get-pixel</span></a></li><li><a href="monet.canvas.html#var-init"><span>init</span></a></li><li><a href="monet.canvas.html#var-line-to"><span>line-to</span></a></li><li><a href="monet.canvas.html#var-monet-canvas"><span>monet-canvas</span></a></li><li><a href="monet.canvas.html#var-move-to"><span>move-to</span></a></li><li><a href="monet.canvas.html#var-quadratic-curve-to"><span>quadratic-curve-to</span></a></li><li><a href="monet.canvas.html#var-rect"><span>rect</span></a></li><li><a href="monet.canvas.html#var-remove-entity"><span>remove-entity</span></a></li><li><a href="monet.canvas.html#var-restart"><span>restart</span></a></li><li><a href="monet.canvas.html#var-restore"><span>restore</span></a></li><li><a href="monet.canvas.html#var-rotate"><span>rotate</span></a></li><li><a href="monet.canvas.html#var-rounded-rect"><span>rounded-rect</span></a></li><li><a href="monet.canvas.html#var-save"><span>save</span></a></li><li><a href="monet.canvas.html#var-scale"><span>scale</span></a></li><li><a href="monet.canvas.html#var-start-updating"><span>start-updating</span></a></li><li><a href="monet.canvas.html#var-stop"><span>stop</span></a></li><li><a href="monet.canvas.html#var-stop-updating"><span>stop-updating</span></a></li><li><a href="monet.canvas.html#var-stroke"><span>stroke</span></a></li><li><a href="monet.canvas.html#var-stroke-cap"><span>stroke-cap</span></a></li><li><a href="monet.canvas.html#var-stroke-rect"><span>stroke-rect</span></a></li><li><a href="monet.canvas.html#var-stroke-style"><span>stroke-style</span></a></li><li><a href="monet.canvas.html#var-stroke-width"><span>stroke-width</span></a></li><li><a href="monet.canvas.html#var-text"><span>text</span></a></li><li><a href="monet.canvas.html#var-text-align"><span>text-align</span></a></li><li><a href="monet.canvas.html#var-text-baseline"><span>text-baseline</span></a></li><li><a href="monet.canvas.html#var-transform"><span>transform</span></a></li><li><a href="monet.canvas.html#var-translate"><span>translate</span></a></li><li><a href="monet.canvas.html#var-update-entity"><span>update-entity</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>monet.canvas documentation</h2><pre class="doc">The canvas namespace provides functions which can be used for
rendering graphs, game graphics, art, or othe visual images
on the fly.

See http://www.w3.org/TR/html5/scripting-1.html#the-canvas-element</pre><div class="public" id="var-add-entity"><h3>add-entity</h3><div class="usage"><code>(add-entity mc k ent)</code></div><pre class="doc"></pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L274">Source</a></div></div><div class="public" id="var-alpha"><h3>alpha</h3><div class="usage"><code>(alpha ctx a)</code></div><pre class="doc">Global Alpha value that is applied to shapes and images before they are
composited onto the canvas. Default 1.0 (opaque).</pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L135">Source</a></div></div><div class="public" id="var-attr"><h3>attr</h3><div class="usage"><code>(attr e a)</code></div><pre class="doc"></pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L298">Source</a></div></div><div class="public" id="var-begin-path"><h3>begin-path</h3><div class="usage"><code>(begin-path ctx)</code></div><pre class="doc">Starts a new path by resetting the list of sub-paths.
Call this method when you want to create a new path.</pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L17">Source</a></div></div><div class="public" id="var-bezier-curve-to"><h3>bezier-curve-to</h3><div class="usage"><code>(bezier-curve-to ctx cp1x cp1y cp2x cp2y x y)</code><code>(bezier-curve-to ctx {:keys [cp1x cp1y cp2x cp2y x y]})</code></div><pre class="doc"></pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L246">Source</a></div></div><div class="public" id="var-circle"><h3>circle</h3><div class="usage"><code>(circle ctx {:keys [x y r]})</code></div><pre class="doc">Draws a circle at position (x, y) with radius r
</pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L75">Source</a></div></div><div class="public" id="var-clear%21"><h3>clear!</h3><div class="usage"><code>(clear! mc)</code></div><pre class="doc"></pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L288">Source</a></div></div><div class="public" id="var-clear-rect"><h3>clear-rect</h3><div class="usage"><code>(clear-rect ctx {:keys [x y w h]})</code></div><pre class="doc">Sets all pixels in the rectangle defined by starting point (x, y)
and size (w, h) to transparent black.</pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L44">Source</a></div></div><div class="public" id="var-close-path"><h3>close-path</h3><div class="usage"><code>(close-path ctx)</code></div><pre class="doc">Tries to draw a straight line from the current point to the start.
If the shape has already been closed or has only one point, this
function does nothing.</pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L24">Source</a></div></div><div class="public" id="var-composition-operation"><h3>composition-operation</h3><div class="usage"><code>(composition-operation ctx operation)</code></div><pre class="doc">With Global Alpha applied this sets how shapes and images are drawn
onto the existing bitmap. Possible values (as string or keyword):
source-atop, source-in, source-out, source-over (default),
destination-atop, destination-in, destination-out, destination-over,
lighter, darker, copy, xor</pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L142">Source</a></div></div><div class="public" id="var-draw-image"><h3>draw-image</h3><div class="usage"><code>(draw-image ctx img x y)</code><code>(draw-image ctx img {:keys [x y w h sx sy sw sh dx dy dw dh], :as params})</code></div><pre class="doc">Draws the image onto the canvas at the given position.
If a map of params is given, the number of entries is used to
determine the underlying call to make.</pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L223">Source</a></div></div><div class="public" id="var-draw-loop"><h3>draw-loop</h3><div class="usage"><code>(draw-loop {:keys [canvas updating? ctx active entities], :as mc})</code></div><pre class="doc"></pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L301">Source</a></div></div><div class="public" id="var-entity"><h3>entity</h3><div class="usage"><code>(entity v update draw)</code></div><pre class="doc"></pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L293">Source</a></div></div><div class="public" id="var-fill"><h3>fill</h3><div class="usage"><code>(fill ctx)</code></div><pre class="doc">Fills the subpaths with the current fill style.
</pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L32">Source</a></div></div><div class="public" id="var-fill-rect"><h3>fill-rect</h3><div class="usage"><code>(fill-rect ctx {:keys [x y w h]})</code></div><pre class="doc">Draws a filled rectangle at (x, y) position whose size is determined
by width w and height h.</pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L68">Source</a></div></div><div class="public" id="var-fill-style"><h3>fill-style</h3><div class="usage"><code>(fill-style ctx color)</code></div><pre class="doc">Color or style to use inside shapes. Default #000 (black).
</pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L97">Source</a></div></div><div class="public" id="var-font-style"><h3>font-style</h3><div class="usage"><code>(font-style ctx font)</code></div><pre class="doc">Sets the font. Default value 10px sans-serif.
</pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L91">Source</a></div></div><div class="public" id="var-get-context"><h3>get-context</h3><div class="usage"><code>(get-context canvas type)</code></div><pre class="doc"></pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L14">Source</a></div></div><div class="public" id="var-get-entity"><h3>get-entity</h3><div class="usage"><code>(get-entity mc k)</code></div><pre class="doc"></pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L280">Source</a></div></div><div class="public" id="var-get-pixel"><h3>get-pixel</h3><div class="usage"><code>(get-pixel ctx x y)</code></div><pre class="doc">Gets the pixel value as a hash map of RGBA values
</pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L168">Source</a></div></div><div class="public" id="var-init"><h3>init</h3><div class="usage"><code>(init canvas &amp; [context-type])</code></div><pre class="doc"></pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L335">Source</a></div></div><div class="public" id="var-line-to"><h3>line-to</h3><div class="usage"><code>(line-to ctx x y)</code></div><pre class="doc">Connects the last point in the subpath to the x, y coordinates with a
straight line.</pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L128">Source</a></div></div><div class="public" id="var-monet-canvas"><h3>monet-canvas</h3><div class="usage"><code>(monet-canvas elem context-type)</code></div><pre class="doc"></pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L326">Source</a></div></div><div class="public" id="var-move-to"><h3>move-to</h3><div class="usage"><code>(move-to ctx x y)</code></div><pre class="doc">Moves the starting point of a new subpath to the (x, y) coordinates.
</pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L122">Source</a></div></div><div class="public" id="var-quadratic-curve-to"><h3>quadratic-curve-to</h3><div class="usage"><code>(quadratic-curve-to ctx cpx cpy x y)</code><code>(quadratic-curve-to ctx {:keys [cpx cpy x y]})</code></div><pre class="doc"></pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L238">Source</a></div></div><div class="public" id="var-rect"><h3>rect</h3><div class="usage"><code>(rect ctx {:keys [x y w h]})</code></div><pre class="doc">DEPRECATED. Prefer fill-rect
</pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L51">Source</a></div></div><div class="public" id="var-remove-entity"><h3>remove-entity</h3><div class="usage"><code>(remove-entity mc k)</code></div><pre class="doc"></pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L277">Source</a></div></div><div class="public" id="var-restart"><h3>restart</h3><div class="usage"><code>(restart mc)</code></div><pre class="doc"></pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L344">Source</a></div></div><div class="public" id="var-restore"><h3>restore</h3><div class="usage"><code>(restore ctx)</code></div><pre class="doc">Restores the drawing style state to the last element on the 'state stack'
saved by save.</pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L184">Source</a></div></div><div class="public" id="var-rotate"><h3>rotate</h3><div class="usage"><code>(rotate ctx angle)</code></div><pre class="doc">Rotate the context 
</pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L191">Source</a></div></div><div class="public" id="var-rounded-rect"><h3>rounded-rect</h3><div class="usage"><code>(rounded-rect ctx {:keys [x y w h r]})</code></div><pre class="doc"></pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L254">Source</a></div></div><div class="public" id="var-save"><h3>save</h3><div class="usage"><code>(save ctx)</code></div><pre class="doc">Saves the current drawing style state using a stack so you can revert
any change you make to it using restore.</pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L177">Source</a></div></div><div class="public" id="var-scale"><h3>scale</h3><div class="usage"><code>(scale ctx x y)</code></div><pre class="doc">Scales the context by a floating-point factor in each direction
</pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L197">Source</a></div></div><div class="public" id="var-start-updating"><h3>start-updating</h3><div class="usage"><code>(start-updating mc)</code></div><pre class="doc"></pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L343">Source</a></div></div><div class="public" id="var-stop"><h3>stop</h3><div class="usage"><code>(stop mc)</code></div><pre class="doc"></pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L341">Source</a></div></div><div class="public" id="var-stop-updating"><h3>stop-updating</h3><div class="usage"><code>(stop-updating mc)</code></div><pre class="doc"></pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L342">Source</a></div></div><div class="public" id="var-stroke"><h3>stroke</h3><div class="usage"><code>(stroke ctx)</code></div><pre class="doc">Strokes the subpaths with the current stroke style.
</pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L38">Source</a></div></div><div class="public" id="var-stroke-cap"><h3>stroke-cap</h3><div class="usage"><code>(stroke-cap ctx cap)</code></div><pre class="doc">Sets the line cap. Possible values (as string or keyword):
butt (default), round, square</pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L115">Source</a></div></div><div class="public" id="var-stroke-rect"><h3>stroke-rect</h3><div class="usage"><code>(stroke-rect ctx {:keys [x y w h]})</code></div><pre class="doc">Paints a rectangle which has a starting point at (x, y) and has a
w width and an h height onto the canvas, using the current stroke
style.</pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L60">Source</a></div></div><div class="public" id="var-stroke-style"><h3>stroke-style</h3><div class="usage"><code>(stroke-style ctx color)</code></div><pre class="doc">Color or style to use for the lines around shapes. Default #000 (black).
</pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L103">Source</a></div></div><div class="public" id="var-stroke-width"><h3>stroke-width</h3><div class="usage"><code>(stroke-width ctx w)</code></div><pre class="doc">Sets the line width. Default 1.0
</pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L109">Source</a></div></div><div class="public" id="var-text"><h3>text</h3><div class="usage"><code>(text ctx {:keys [text x y]})</code></div><pre class="doc">Paints the given text at a starting point at (x, y), using the
current stroke style.</pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L84">Source</a></div></div><div class="public" id="var-text-align"><h3>text-align</h3><div class="usage"><code>(text-align ctx alignment)</code></div><pre class="doc">Sets the text alignment attribute. Possible values (specified
as a string or keyword): start (default), end, left, right or
center.</pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L152">Source</a></div></div><div class="public" id="var-text-baseline"><h3>text-baseline</h3><div class="usage"><code>(text-baseline ctx alignment)</code></div><pre class="doc">Sets the text baseline attribute. Possible values (specified
as a string or keyword): top, hanging, middle, alphabetic (default),
ideographic, bottom</pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L160">Source</a></div></div><div class="public" id="var-transform"><h3>transform</h3><div class="usage"><code>(transform ctx m11 m12 m21 m22 dx dy)</code><code>(transform ctx {:keys [m11 m12 m21 m22 dx dy]})</code></div><pre class="doc">Multiplies a custom transformation matrix to the existing
HTML5 canvas transformation according to the follow convention:

[ x']   [ m11 m21 dx ] [ x ]
[ y'] = [ m12 m22 dy ] [ y ]
[ 1 ]   [ 0   0   1  ] [ 1 ]</pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L209">Source</a></div></div><div class="public" id="var-translate"><h3>translate</h3><div class="usage"><code>(translate ctx x y)</code></div><pre class="doc">Moves the origin point of the context to (x, y).
</pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L203">Source</a></div></div><div class="public" id="var-update-entity"><h3>update-entity</h3><div class="usage"><code>(update-entity mc k func &amp; extra)</code></div><pre class="doc"></pre><div class="src-link"><a href="http://github.com/rm-hull/monet/blob/master/src/monet/canvas.cljs#L283">Source</a></div></div></div></body></html>